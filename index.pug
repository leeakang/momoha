<!DOCTYPE html>
html(lang="en")
    head
        meta(charset="UTF-8")
        meta(name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0")
        title Momoha
        link(rel='stylesheet', type='text/css', href='../style/style.css')
        link(rel='stylesheet', href="https://fonts.googleapis.com/css?family=Kosugi|Noto+Sans+KR&display=swap")
        link(rel='apple-touch-icon' sizes='57x57' href='../favicon/apple-icon-57x57.png')
        link(rel='apple-touch-icon' sizes='60x60' href='../favicon/apple-icon-60x60.png')
        link(rel='apple-touch-icon' sizes='72x72' href='../favicon/apple-icon-72x72.png')
        link(rel='apple-touch-icon' sizes='76x76' href='../favicon/apple-icon-76x76.png')
        link(rel='apple-touch-icon' sizes='114x114' href='../favicon/apple-icon-114x114.png')
        link(rel='apple-touch-icon' sizes='120x120' href='../favicon/apple-icon-120x120.png')
        link(rel='apple-touch-icon' sizes='144x144' href='../favicon/apple-icon-144x144.png')
        link(rel='apple-touch-icon' sizes='152x152' href='../favicon/apple-icon-152x152.png')
        link(rel='apple-touch-icon' sizes='180x180' href='../favicon/apple-icon-180x180.png')
        link(rel='icon' type='image/png' sizes='192x192' href='../favicon/android-icon-192x192.png')
        link(rel='icon' type='image/png' sizes='32x32' href='../favicon/favicon-32x32.png')
        link(rel='icon' type='image/png' sizes='96x96' href='../favicon/favicon-96x96.png')
        link(rel='icon' type='image/png' sizes='16x16' href='../favicon/favicon-16x16.png')
        link(rel='manifest' href='../favicon/manifest.json')
        meta(name='msapplication-TileColor' content='#ffffff')
        meta(name='msapplication-TileImage' content='../favicon/ms-icon-144x144.png')
        meta(name='theme-color' content='#ffffff')
    body(data-animation="ripple", oncontextmenu="return false" ondragstart="return false" onselectstart="return false" onload="loading()")
        #loading
            #loadingCircle
        #cursor
        #circle
        #wrapper(draggable="true")
            #hamMenu(onclick="hamclick()")
                div
                div
                div
            #nav
                ul(onclick="smooth()")
                    li
                        a(href="#home") Home
                    li
                        a(href="#ex") Exhibition Location
                    li
                        a(href="#chat") Guest Book
                    li
                        a(href="#") Look Book
                    li
                        a(href="#") SHOP
                    li
                        a(href="#") Contact
                    li
                        a(href="#subs") Concerned
            #cont
                #mainPage.pg01
                    .contents.leftSide#home
                        #start
                            div.subText
                                | Moimyun Morado Hagetzy,
                                | Project for Untitled emotion
                            button(onclick="start()") click for Swim
                        #pics
                            div.emotionPic
                                img(src="../images/emotion07.jpg")
                                img(src="../images/emotion07.jpg")
                                img(src="../images/emotion07.jpg")
                    .contents.rightSide
                        #title.glitching(data-text="MOMOHA") MOMOHA
                        .subTitle モモバ。
                #mainPage.pg02
                    .contents.leftSide#ex
                    .contents.rightSide#chat
                        #chatWrap
                            #chatForm
                                ul#inlist
                                div#dock
                                    input#valin(type="text" onkeydown="if(event.keyCode==13){get_list()}" autocomplete="off" spellcheck="false" placeholder="Spread an opinion")
                                    button#submit(onclick="get_list()") Send
                #mainPage.pg03
                    .contents.leftSide
                    .contents.rightSide
                        #mmhacc
                            img(src="../images/acc02.jpeg" alt='momoha_acc_01')
                            img(src="../images/acc03.jpeg" alt='momoha_acc_02')
                            img(src="../images/acc04.jpeg" alt='momoha_acc_03')
                            img(src="../images/acc05.jpeg" alt='momoha_acc_04')
                            img(src="../images/acc06.jpeg" alt='momoha_acc_05')
                            img(src="../images/acc07.jpeg" alt='momoha_acc_06')
                            img(src="../images/acc08.jpeg" alt='momoha_acc_07')
                            img(src="../images/acc09.jpeg" alt='momoha_acc_08')
                #mainPage.pg04
                    .contents.leftSide
                        #contact
                            .SNS
                                div.contact
                                    p Contact link for business&chill
                                    div.igLogo
                                        a(href="https://www.instagram.com/momoha_acc/?hl=ko" target="_blank")
                                            img(src='../images/igLogo.png')
                                    div.mnemLogo
                                        a(href="http://mnem.co.kr/" target="_blank")
                                            img(src='../images/mnemLogo.png')
                            .contactWrapper
                                form(spellcheck="false" class="gform", name="email", target="sendiframe", method="post", action="https://script.google.com/macros/s/AKfycbweZZmOWMDwhk2En18zcvjw9slRL5tj7bnpbkNK/exec", onsubmit="thankyou()")
                                    p 이름 (Name)
                                        br
                                        input.name(type="text", autocomplete="off", name="name", placeholder="성명, 기업명", required)
                                    p 연락처 (Call)
                                        br
                                        input.call(type="text", autocomplete="off", name="call", placeholder="휴대폰, 유선전화", required) 
                                    p 이메일 (E-mail)
                                        br
                                        input.email(type="email", autocomplete="off", name="email", placeholder="email@company.com", required)
                                    p 남기실 말씀 (Message)
                                        br
                                        textarea#textarea(type="text", autocomplete="off", name="message")
                                    button(type="submit", class="send") Send
                                    iframe(name="sendiframe", style="display:none;", frameborder="0")
                            .thankyou
                                p.kor 전송되었습니다. 소중한 의견 감사합니다.
                                p.eng Success. Thanks for contacting.
                                p.confirm
                                    a(onclick="closeAlert()") 확인 
                                        span.timer
                    .contents.rightSide#subs
                        #star-wars
                            .sub
                                .title
                                    p MMH UNTITLED EMOTION PROJECT
                                    h1 CREATORS
                                    p
                                    | KANG DA YEON
                                    p
                                    | MIN SEONG JAE
                                    p
                                    | KIM HYO JI
                                    p
                                    | KANG HUI JUN
                                    p
                                    | YEON SEUNG IL
                                    p
                                    | YEON PYEONG AN
                                    p
                                    | YOUNG HWA
                                    p
                                    | IM HYOUN JI
                                    p
                                    | JUN HA NEUL
                            .sub02
                                .title
                                    p MOMOHA WEB DEVELOP PROJECT
                                    h1 SPECIAL THANKS TO
                                    p
                                    | KIM JI WOO
                                    p
                                    | LEE SUNG JUN
                                    p
                                    | KWAK JIN WON
                                    p
                                    | KIM MIN SUNG
                                    p
                                    | NULL
                                    p
                                    | NULL
                                    p
                                    | NULL
                                    p
                                    | NULL
                                    p
                                    | NULL
        #background.widthLines
            div
                div
                    div
                        div
                        div
                    div
                        div
                        div
                div
                    div
                        div
                        div
                    div
                        div
                        div
            div
                div
                    div
                        div
                        div
                    div
                        div
                        div
                div
                    div
                        div
                        div
                    div
                        div
                        div
        #background.heightLines
                div
                    div
                        div
                        div
                    div
                        div
                        div
                div
                    div
                        div
                        div
                    div
                        div
                        div
    script.
        document.cookie = "safeCookie1=foo; Samesite=none; Secure";
        window.onkeydown = function(e) {
            if(event.keyCode == 116){
                e.preventDefault();
            }
        }
        //loading
        function loading(){
            document.getElementById("loading").style.display = "none";
            document.getElementById('wrapper').style.display = "block";
            document.getElementById('wrapper').style.transitionDuration = "0";
        }
        rippleEffect();
        //mousePointer Start
        const dot = document.getElementById("cursor")
        const circle = document.getElementById("circle")
        //
        const speed = 8;
        let endX = 0;
        let endY = 0;
        let _x = 0;
        let _y = 0;
        //
        document.onmousemove = (event)=> {
        endX = event.pageX;
        endY = event.pageY-window.scrollY;
        dot.style.top = endY - 4 + "px";
        dot.style.left = endX - 6 + "px";
        }
        function animateCircle() {
        requestAnimationFrame(animateCircle);
        _x += (endX - _x) / speed;
        _y += (endY - _y) / speed;
        circle.style.top = _y - 32 + "px"
        circle.style.left = _x - 32 + "px"
        }
        animateCircle();
        document.onmousedown = (event) => {
            const dot = document.getElementById("cursor")
            cursor.style.transform="scale(0.7) translate(-435%, -435%)"
        }
        document.onmouseup = (event) => {
            const dot = document.getElementById("cursor")
            cursor.style.transform="scale(1) translate(-300%, -300%)"
        }
        //mousePointer End
        const ham = document.getElementById('hamMenu');
        function start() {
            const start = document.getElementById('start'),
            title = document.getElementById('title'),
            wrapper = document.getElementById('wrapper'),
            subTitle = document.querySelector('.subTitle'),
            pics = document.getElementById('pics'),
            nav = document.getElementById('nav');
            title.style.transform="rotate(90deg) translate(0%, -160%)";
            title.style.color="#7effb8";
            title.style.right="0%"
            title.style.fontSize="24vh"
            title.style.transitionDuration="1.5s";
            title.classList.remove("glitching");
            subTitle.style. opacity="1"
            subTitle.style.fontSize="7vh"
            start.style.display="none"
            wrapper.style.overflowX="auto"
            pics.style.opacity="1";
            nav.style.top="6%"
            nav.style.transitionDuration="1s"
            scroll();
            drag();
            picdrag();
        }
        function scrollnone(){
            wrapper.style.scrollBehavior="unset"
        }
        //scroll start
        function scroll() {
        wrapper.addEventListener('mousewheel', function(e){
            e.preventDefault();
            nav.style.top = '-10%'
            ham.style.transitionDuration="1s"
            ham.style.top="6%"
            cont.style.opacity="1"
            if(e.wheelDelta >= 0){
                wrapper.scrollBy(-50, 0);
            }else if(e.wheelDelta < 0){
                wrapper.scrollBy(50, 0);
            }})
        }//scroll end
        //drag to slide start
        function drag(){
            let isDown = false;
            let startX;
            let scrollLeft;
            wrapper.addEventListener('mousedown', (e) => {
            isDown = true;
            startX = e.pageX - wrapper.offsetLeft;
            scrollLeft = wrapper.scrollLeft;
            });
            wrapper.addEventListener('mouseleave', () => {
            isDown = false;
            });
            wrapper.addEventListener('mouseup', () => {
            isDown = false;
            });
            wrapper.addEventListener('mousemove', (e) => {
            if(!isDown) return;
            e.preventDefault();
            ham.style.top = '6%'
            ham.style.transitionDuration = "1s"
            nav.style.top = '-10%'
            cont.style.opacity = "1"
            const x = e.pageX - wrapper.offsetLeft;
            const walk = (x - startX) * 2; //scroll-fast
            wrapper.scrollLeft = scrollLeft - walk;
            });
            }
        //drag to slide end
        function hamclick(){
            nav.style.top = '6%'
            ham.style.top = '-10%'
            cont.style.opacity = '0.5'
        }
        function smooth(){
            wrapper.style.scrollBehavior="smooth"
            ham.style.top = '6%'
            nav.style.top = '-10%'
            cont.style.opacity =  '1'
            setTimeout(scrollnone,10)
        }
        function rippleEffect() {
        const wave = document.querySelectorAll('[data-animation="ripple"]');
        [...wave].forEach(wrapper => {
        wrapper.onmousedown = function(e) {
            const x = e.pageX - this.offsetLeft;
            const y = e.pageY - this.offsetTop;
            const w = this.offsetWidth;
            const ripple = document.createElement('span');
            const ripple2 = document.createElement('span');
            const ripple3 = document.createElement('span');

            ripple.className = 'ripple';
            ripple.style.left = x-15 + 'px';
            ripple.style.top  = y-15 + 'px';
            ripple.style.setProperty('--scale', w);

            ripple2.className = 'ripple2';
            ripple2.style.left = x-20 + 'px';
            ripple2.style.top  = y-20 + 'px';
            ripple2.style.setProperty('--scale', w);

            ripple3.className = 'ripple3';
            ripple3.style.left = x-10 + 'px';
            ripple3.style.top  = y-10 + 'px';
            ripple3.style.setProperty('--scale', w);
            
            this.appendChild(ripple);
            this.appendChild(ripple2);
            this.appendChild(ripple3);

            if( (e.which == 2) ) {
                e.preventDefault();
            }

            setTimeout(() => {
            ripple.parentNode.removeChild(ripple);
            ripple2.parentNode.removeChild(ripple2);
            ripple3.parentNode.removeChild(ripple3);
            }, 1000);
        }
        })
        }
        //chat function start
        function get_list(){
                const input = document.getElementById("valin").value;
                if(input.length == 0){
                    //do nothing
                }else{
                    async function fetchDataAsync() {
                        const inlist = document.getElementById("inlist");
                        const listplus = document.createElement("li");
                        const talkbox = document.createElement("div");
                        const response = await fetch('https://ipapi.co/json');
                        const localInfo = await response.json();
                        const localPrint = `Visitor from ${localInfo.city}, ${localInfo.country_name}`;
                        const localDiv = document.createElement("div");
                        listplus.innerHTML = input;
                        talkbox.setAttribute("id", "talkbox");
                        localDiv.setAttribute("id", "local");
                        document.getElementById("inlist").appendChild(talkbox);
                        document.getElementById("talkbox").appendChild(listplus);
                        document.getElementById("talkbox").appendChild(localDiv);
                        localDiv.innerHTML = localPrint;
                        localStorage.setItem('inlist',inlist.innerHTML);
                        const test = localStorage.getItem('inlist');
                        console.log(test)
                    }
                    fetchDataAsync();
                    document.getElementById("valin").value = "";
                }
                inlist.scrollTop = inlist.scrollHeight;
            }//get_list
            //chat function end
        function starwars(){
            const sub02 = document.querySelector('.sub02');
            sub02.style.animation = "crawl 30s linear infinite"
        }
        setTimeout(starwars, 15000);
        function picdrag(){
            let mmhacc = document.getElementById('mmhacc')
            let isDown = false;
            let startY;
            let scrollLeft;
            mmhacc.addEventListener('mousedown', (e) => {
            isDown = true;
            startY = e.pageY - mmhacc.offsetHeight;
            scrollTop = mmhacc.scrollTop;
            });
            mmhacc.addEventListener('mouseleave', () => {
            isDown = false;
            });
            mmhacc.addEventListener('mouseup', () => {
            isDown = false;
            });
            mmhacc.addEventListener('mousemove', (e) => {
            if(!isDown) return;
            e.preventDefault();
            const y = e.pageY - mmhacc.offsetHeight;
            const walk = (y - startY) * 2; //scroll-fast
            mmhacc.scrollTop = scrollTop - walk;
            });
            }

            //contact script start
            var str = document.getElementById("textarea").value;
            str = str.replace(/(?:\\r\n|\r|\n)/g, '<br />');
            //enter to br
        function thankyou() {
            document.querySelector(".name").value = null;
            document.querySelector(".call").value = null;
            document.querySelector(".email").value = null;
            document.getElementById("textarea").value = null;
            alert('전송되었습니다. 감사합니다.');
        }
        //contact script end